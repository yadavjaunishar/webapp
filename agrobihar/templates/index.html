{% load static %}
<!DOCTYPE html>
<html lang="en-US" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <!-- ===============================================-->
  <!--    Document Title-->
  <!-- ===============================================-->
  <title>Login || MKCF M & E System</title>


  <!-- ===============================================-->
  <!--    Favicons-->
  <!-- ===============================================-->
  <link rel="apple-touch-icon" sizes="180x180" href="public/assets/img/mekong-fevicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="public/assets/img/mekong-fevicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="public/assets/img/mekong-fevicon.png">
  <link rel="shortcut icon" type="image/x-icon" href="public/assets/img/mekong-fevicon.png">
  <meta name="msapplication-TileImage" content="public/assets/img/mekong-fevicon.png">
  <meta name="theme-color" content="#ffffff">
  <script src="public/assets/js/config.js"></script>
  <script src="public/assets/vendors/simplebar/simplebar.min.js"></script>


  <!-- ===============================================-->
  <!--    Stylesheets-->
  <!-- ===============================================-->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700%7cPoppins:300,400,500,600,700,800,900&amp;display=swap" rel="stylesheet">
  <!-- <link href="public/assets/vendors/simplebar/simplebar.min.css" rel="stylesheet"> -->
  <link href="{% static 'vendors/simplebar/simplebar.min.css' %}" rel="stylesheet">
  <link href="{% static 'css/theme-rtl.min.css' %}" rel="stylesheet" id="style-rtl">
  <link href="{% static 'css/theme.min.css' %}" rel="stylesheet" id="style-default">
  <link href="{% static 'css/user-rtl.min.css' %}" rel="stylesheet" id="user-style-rtl">
  <link href="{% static 'css/user.min.css' %}" rel="stylesheet" id="user-style-default">
  <link href="{% static 'css/ap.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="https://pccds.indevconsultancy.in/assets/css/bootstrap-icons.css">
  <script>
    var isRTL = JSON.parse(localStorage.getItem('isRTL'));
    if (isRTL) {
      var linkDefault = document.getElementById('style-default');
      var userLinkDefault = document.getElementById('user-style-default');
      linkDefault.setAttribute('disabled', true);
      userLinkDefault.setAttribute('disabled', true);
      document.querySelector('html').setAttribute('dir', 'rtl');
    } else {
      var linkRTL = document.getElementById('style-rtl');
      var userLinkRTL = document.getElementById('user-style-rtl');
      linkRTL.setAttribute('disabled', true);
      userLinkRTL.setAttribute('disabled', true);
    }
  </script>
</head>

<body>
  <main class="main" id="top">
    <div class="container-fluid">
      <div class="row min-vh-100 bg-100">
        <div class="col-8 d-none d-lg-block position-relative">
          <div class="bg-holder login-auth d-flex align-items-center p-5">
            <div id="reviewcarouselIndicators" class="carousel slide" data-bs-ride="carousel">
              <div class="carousel-indicators carousel-indicators-rounded justify-content-center mt-4 ms-0 mb-0">
                <button type="button" data-bs-target="#reviewcarouselIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#reviewcarouselIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#reviewcarouselIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
              </div>
              <style type="text/css">

              </style>
              <!-- end carouselIndicators -->
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <div class="testi-contain text-white">
                    <div class="banner">
                      <img src="{% static 'img/gallery/1.jpg' %}" />
                    </div>
                    <div>
                      <h1 class="text-white">Welcome to <br>MKCF M & E System</h1>
                      <h5 class="mt-4 mb-4 fw-medium lh-base text-white">
                        Eradicating malnutrition through holistic, long-impact and
                        sustainable intervention
                      </h5>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="testi-contain text-white">
                    <div class="banner">
                      <img src="{% static 'img/gallery/2.jpg' %}" />
                    </div>
                    <div>
                      <h1 class="text-white">Welcome to <br>MKCF M & E System</h1>
                      <h5 class="mt-4 mb-4 fw-medium lh-base text-white">
                        Rebuilding lives and stronger communities in the face of
                        natural disasters
                      </h5>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="testi-contain text-white">
                    <div class="banner">
                      <img src="{% static 'img/gallery/3.jpg' %}" />
                    </div>
                    <div>
                      <h1 class="text-white">Welcome to <br>MKCF M & E System</h1>
                      <h5 class="mt-4 mb-4 fw-medium lh-base text-white">
                        Empowering the youth to rise and lead an independent,
                        dignified and happy life
                      </h5>
                    </div>
                  </div>
                </div>

              </div>
              <!-- end carousel-inner -->
            </div>
          </div>
          <ul class="bg-bubbles">
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
          </ul>
        </div>
        <div class="col-sm-10 col-md-4 px-sm-0 align-self-center mx-auto py-5">
          <div class="auth-full-page-content d-flex p-sm-5 p-4">
            <div class="w-100">
              <div class="d-flex flex-column h-100">
                <div class="mb-4 mb-md-2 text-center">
                  <img src="{% static 'images/eagrologo.png' %}" alt="" height="50">
                </div>
                <div class="auth-content my-auto">
                  <div class="text-center">
                    <h5 class="mb-0">Login</h5>
                  </div>
                  <div class="alertdiv mt-3"></div>
                  <form class="mt-3" id="formlogin">
                    <div class="mb-3">
                      <label class="form-label" for="username">Username <span class="text-danger">*</span></label>
                      <input type="text" class="form-control" id="username" name="username" placeholder="Enter username">
                    </div>
                    <label class="form-label" for="password">Password <span class="text-danger">*</span></label><br>
                    <div class="input-group mb-3">
                      <input type="password" class="form-control" id="password" name="password" placeholder="Enter Password" aria-label="Enter Password" aria-describedby="togglePassword">
                      <span class="input-group-text" id="eyetoggle"><i class="bi bi-eye-slash" id="togglePassword"></i></span>
                    </div>
                    <label class="form-label" for="captcha">Captcha <span class="text-danger">*</span></label>
                    <div class="row">
                      <div class="col-md-6 mb-3">
                        <div class="input-group" id="captcha_div_image">
                          <span id="create_captcha" class="border"><?= $captcha ?></span>
                          <span class="input-group-text" id="refreshCaptcha" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-original-title="Refresh Captcha"><span class="refresh">â†»</span></span>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <input class="form-control" id="captcha" name="captcha" type="text" placeholder="Enter Captcha" autocomplete="off" maxlength="6" />
                      </div>
                    </div>
                    <div class="mb-3">
                      <button class="btn btn-primary w-100 waves-effect waves-light" type="button" id="formsubmit">Log In</button>
                    </div>
                  </form>
                </div>
                <hr>
                <div class="text-center">
                  <a class="fs--1" href="javascript:void(0)">Forgot Password?</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <!-- ===============================================-->
  <!--    JavaScripts-->
  <!-- ===============================================-->
  <script src="{% static 'vendors/simplebar/simplebar.min.css' %}"></script>
  <script src="{% static 'vendors/bootstrap/bootstrap.min.js' %}"></script>
  <script src="{% static 'vendors/anchorjs/anchor.min.js' %}"></script>
  <script src="{% static 'vendors/is/is.min.js' %}"></script>
  <script src="{% static 'vendors/fontawesome/all.min.js' %}"></script>
  <script src="{% static 'vendors/lodash/lodash.min.js' %}"></script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
  <script src="{% static 'vendors/list.js/list.min.js' %}"></script>
  <script src="{% static 'js/theme.js' %}"></script>
  <script src="{% static 'js/jquery.min.js' %}"></script>
  <script>
    $('#refreshCaptcha').on("click", function() {
      $.ajax({
        type: 'GET',
        url: '<?= base_url('captchaImage') ?>',
        data: {},
        success: function(data) {
          $('#create_captcha').html(data);
          $("#captcha").val('');
        }
      })
    });
  </script>
  <script>
    $(".alertdiv").hide();
    $(document).ready(function() {
      $('#formsubmit').on('click', function() {
        $.ajax({
          url: "<?= base_url('loginAuth') ?>",
          type: "POST",
          data: $('#formlogin').serialize(),
          success: function(APP) {
            // console.log(APP);
            if (APP == 'success') {
              window.location.href = '<?= base_url('dashboard') ?>';
            } else {
              $(".alertdiv").show();
              setTimeout(function() {
                $(".alertdiv").hide(1000);
              }, 3000);
              $(".alertdiv").html('<div class="alert alert-danger border-2 d-flex align-items-center p-2" role="alert"><div class="bg-danger me-3 icon-item"><span class="fas fa-times-circle text-white fs-3"></span></div><p class="mb-0 flex-1 fs--1">' + APP + '</p></div>');
            }
          }
        });

      });
    });
  </script>
  <script>
    const togglePassword = document.querySelector("#togglePassword");
    const password = document.querySelector("#password");

    togglePassword.addEventListener("click", function() {
      // toggle the type attribute
      const type = password.getAttribute("type") === "password" ? "text" : "password";
      password.setAttribute("type", type);

      // toggle the icon
      this.classList.toggle("bi-eye");
    });
  </script>
</body>

</html>